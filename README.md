# ğŸ¦ê³„ì‚°ê¸°

## ğŸ“– ëª©ì°¨
1. [ğŸ€ ì†Œê°œ](#-ì†Œê°œ)
2. [ğŸ‘¨â€ğŸ’» íŒ€ì›](#-íŒ€ì›)
3. [â° íƒ€ì„ë¼ì¸](#-íƒ€ì„ë¼ì¸)
4. [ğŸ‘€ ì‹œê°í™”ëœ í”„ë¡œì íŠ¸ êµ¬ì¡°](#-ì‹œê°í™”ëœ-í”„ë¡œì íŠ¸-êµ¬ì¡°)
5. [ğŸ’» ì‹¤í–‰ í™”ë©´](#-ì‹¤í–‰-í™”ë©´)
6. [ğŸ§¨ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…](#-íŠ¸ëŸ¬ë¸”-ìŠˆíŒ…)
7. [ğŸ“š ì°¸ê³  ë§í¬](#-ì°¸ê³ -ë§í¬)
8. [ğŸ‘¥ íšŒê³ ](#-íšŒê³ )

</br>

## ğŸ€ ì†Œê°œ
ë¯¼íŠ¸ê°€ ë§Œë“  ê³„ì‚°ê¸°. <br>
ì‚¬ìš©ìëŠ” ìˆ«ìíŒ¨ë“œì™€ ê¸°í˜¸ë¥¼ ëˆŒëŸ¬ ì •ìˆ˜ì™€ ì‹¤ìˆ˜ì˜ ì‚¬ì¹™ì—°ì‚°ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

</br>

## ğŸ‘¨â€ğŸ’» íŒ€ì›
| MINT |
| :--------: |
| <Img src = "https://hackmd.io/_uploads/SyW7zfDUn.jpg"  width="200" height="200"> |
|[Github Profile](https://github.com/mint3382) |


</br>

## â° íƒ€ì„ë¼ì¸
|ë‚ ì§œ|ë‚´ìš©|
|:--:|--|
|2023.05.29.| - `Unit Test` ê³µë¶€ |
|2023.05.30.| - `enqueue`, `dequeue`, `popLastStack` í•¨ìˆ˜ êµ¬í˜„ <br> - TDD ì‚¬ìš© |
|2023.05.31.| - `count`, `isEmpty`, `first`, `last` ì—°ì‚° í”„ë¡œí¼í‹° êµ¬í˜„ <br> - `enqueue`, `dequeue` í•¨ìˆ˜ ë¦¬í™í† ë§ <br> - `popLastStack` í•¨ìˆ˜ ì‚­ì œ <br> - `test` ë¦¬í™í† ë§ |
|2023.06.01.| - `enqueue`, `dequeue` í•¨ìˆ˜ ë¦¬í™í† ë§ <br> - `test` ë¦¬í™í† ë§ <br> - `first`, `last` ì—°ì‚° í”„ë¡œí¼í‹° ë¦¬í™í† ë§ |
|2023.06.02.| - `static`, `UML`ê³µë¶€ |
|2023.06.04.| - `UML` ì´í•´ í›„ ì •ë¦¬ <br> - ìˆ˜ë„ì½”ë“œ ì‘ì„± |
|2023.06.05.| - `ExpressionParser`, `Operator`, `Formula` êµ¬í˜„ |
|2023.06.06.| - `Formulatests`, `ExpressionParserTests`, `CalculatorErrors` êµ¬í˜„ |
|2023.06.07.| - ì»¨ë²¤ì…˜ ë° ë„¤ì´ë° ìˆ˜ì • |
|2023.06.08.| - `NumberFormatter` ê³µë¶€, êµ¬í˜„ <br> - `Scroll View` ê³µë¶€, êµ¬í˜„ |
|2023.06.09.| - `IBAction` êµ¬í˜„ <br> - ìë™ ìŠ¤í¬ë¡¤ ê¸°ëŠ¥ êµ¬í˜„ |
|2023.06.10.| - ì˜ˆì™¸ì‚¬í•­ ìˆ˜ì • <br> - `NumberFormatter` íŒŒë¼ë¯¸í„° íƒ€ì… ìˆ˜ì • |
|2023.06.11.| - ì˜ˆì™¸ì‚¬í•­ ìˆ˜ì • <br> - ë„¤ì´ë° ë° ì»¨ë²¤ì…˜ ìˆ˜ì • <br> - `Operator` ê³„ì‚° íƒ€ì… ìˆ˜ì • |


</br>

## ğŸ‘€ ì‹œê°í™”ëœ í”„ë¡œì íŠ¸ êµ¬ì¡°
### File Tree
````
Calculator
    â”œâ”€â”€ Extension
    â”‚   â”œâ”€â”€ String+
    â”‚   â””â”€â”€ Double+
    â”œâ”€â”€ Model
    â”‚   â”œâ”€â”€ CalculatorItemQueue
    â”‚   â”œâ”€â”€ CalculateItem
    â”‚   â”œâ”€â”€ Formula
    â”‚   â”œâ”€â”€ Operator
    â”‚   â”œâ”€â”€ ExpressionParser
    â”œâ”€â”€ View
    â”‚   â”œâ”€â”€ LaunchScreen
    â”‚   â”œâ”€â”€ Main
    â”œâ”€â”€ Controller
    â”‚   â”œâ”€â”€ AppDelegate
    â”‚   â”œâ”€â”€ SceneDelegate
    â”‚   â”œâ”€â”€ CalculateViewController
    â”œâ”€â”€ Resource
    â”‚   â”œâ”€â”€ Assets
    â”‚   â”œâ”€â”€ Info
    â”œâ”€â”€ CalculatorTests
        â”œâ”€â”€ TestPlan
        â”œâ”€â”€ ExpressionParserTests
        â”œâ”€â”€ FormulaTests 
        â”œâ”€â”€ CalculatorItemQueueTests
````


### Class Diagram
<img width="800" src= "https://hackmd.io/_uploads/rJApOw7v2.jpg" >
</p>
</br>

## ğŸ’» ì‹¤í–‰ í™”ë©´ 

| AC ë²„íŠ¼ | CE ë²„íŠ¼ | +/- ë²„íŠ¼ |
|:--------:|:--------:|:--------:|
|<img src="https://hackmd.io/_uploads/ByiQ3SmPh.gif" width="250">|<img src="https://hackmd.io/_uploads/Hy6UnBmPn.gif" width="250">|<img src="https://hackmd.io/_uploads/BJyO3Hmwh.gif" width="250">|

| ì •ìˆ˜ ì—°ì‚° | ì†Œìˆ˜ ì—°ì‚° | ì‹¤ìˆ˜ ì—°ì‚° |
|:--------:|:--------:|:--------:|
|<img src="https://hackmd.io/_uploads/ryu8ArmD2.gif" width="250">|<img src="https://hackmd.io/_uploads/HJFH0HmP2.gif" width="250">|<img src="https://hackmd.io/_uploads/SkPV0HXPn.gif" width="250">|

| Ã· 0 | 10 Ã· 3 | 5 Ã· 3 |
|:--------:|:--------:|:--------:|
|<img src="https://hackmd.io/_uploads/Hy090Smv3.gif" width="250">|<img src="https://hackmd.io/_uploads/rJkh0BXvn.gif" width="250">|<img src="https://hackmd.io/_uploads/B1i3CHXDn.gif" width="250">|

| 0ë²„íŠ¼ ì˜ˆì™¸ì²˜ë¦¬ | 20ìë¦¿ìˆ˜ ì˜ˆì™¸ì²˜ë¦¬ | ê²°ê³¼ê°’ ì˜ˆì™¸ì²˜ë¦¬ |
|:--------:|:--------:|:--------:|
|<img src="https://hackmd.io/_uploads/B1RXkUXwh.gif" width="250">|<img src="https://hackmd.io/_uploads/SJJr1L7w2.gif" width="250">|<img src="https://hackmd.io/_uploads/ByJ8yLQwn.gif" width="250">|

| ì—°ì‚°ì´ ê¸¸ì–´ì§ˆ ê²½ìš° ìë™ ìŠ¤í¬ë¡¤ | í”¼ì—°ì‚°ì ë¼ë²¨ ìˆ«ìê°€ ì»¤ì§ˆ ê²½ìš° decimal ì–‘ì‹ | dotìœ¼ë¡œ ëë‚  ê²½ìš° ìˆ˜ì‹ í‘œí˜„ |
|:--------:|:--------:|:--------:|
|<img src="https://hackmd.io/_uploads/SkbbxLXP3.gif" width="250">|<img src="https://hackmd.io/_uploads/SJxll87wn.gif" width="250">|<img src="https://hackmd.io/_uploads/Syb1g8QP2.gif" width="250">|

</br>

## ğŸ§¨ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

1ï¸âƒ£ **Queue êµ¬í˜„ ìë£Œêµ¬ì¡° ì„ íƒ: Double Stack vs Linked_List** <br>
-
ğŸ”’ **ë¬¸ì œì ** <br>
`Queue`ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ë“¤ì€ ì—¬ëŸ¬ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.

ë³¸ì¸ ì´ì „ì˜ ì •ë³´ì™€ ë‹¤ìŒì˜ ì •ë³´ë¥¼ ì•Œê³  ìˆëŠ” `linked list`ë¼ëŠ” êµ¬ì¡°ì˜ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤. `enqueue`ì‹œ ë§ˆì§€ë§‰ `node`ì¸ `TAIL`ì— ìƒˆë¡œ ì¶”ê°€ëœ `node`ë¥¼ ì‡ê³ , `dequeue`ì‹œ ë§¨ ì²˜ìŒì˜ `node`ì¸ `HEAD`ì˜ ì •ë³´ë¥¼ ë°˜í™˜í•˜ë©´ì„œ `HEAD`ì˜ ìœ„ì¹˜ë¥¼ ë‹¤ìŒ `node`ë¡œ ì „í™˜í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

`stack` 2ê°œë¥¼ ì‚¬ìš©í•´ êµ¬í˜„í•˜ëŠ” `Double Stack`ì´ë¼ëŠ” êµ¬ì¡°ì˜ ë°©ë²• ë˜í•œ ìˆìŠµë‹ˆë‹¤. ë‘ ê°œì˜ ìŠ¤íƒìš© ë°°ì—´ì„ ë§Œë“¤ì–´ì„œ `enqueueStack`ì—ì„œëŠ” ìš”ì†Œì˜ ì¶”ê°€(`enqueue`ì˜ ê¸°ëŠ¥)ë§Œ, `dequeueStack`ì—ì„œëŠ” ì„ ì…ì„ ì¶œì„ ë§ì¶° ìš”ì†Œ ë°˜í™˜(`dequeue`ì˜ ê¸°ëŠ¥)ë§Œì„ ë‹´ë‹¹í•˜ê²Œ í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.

ì´ ì¤‘ ê³„ì‚°ê¸°ì˜ ê¸°ëŠ¥ì„ ìœ„í•´ `Queue`ë¥¼ êµ¬í˜„í•  ë•Œ, ì–´ë–¤ ë°©ë²•ì„ ì„ íƒí• ì§€ì— ëŒ€í•œ ê³ ë¯¼ì´ ìˆì—ˆìŠµë‹ˆë‹¤.


ğŸ”‘ **í•´ê²°ë°©ë²•** <br>
ê³„ì‚°ê¸°ì˜ ê¸°ëŠ¥ì„ ìœ„í•¨ì—ëŠ” `Double Stack`ì´ ë” ë§ëŠ” ê²ƒ ê°™ì•„ `Double Stack`ìœ¼ë¡œ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤. 

`linked list`ëŠ” `node`ë¼ëŠ” ê³³ì— ë‹¨ìˆœí•œ ë³¸ì¸ì˜ `data` ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ìŒ ì°¨ë¡€ì˜ `node`ì˜ ì£¼ì†Œê°’ì„ ì•Œê³  ìˆëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤. ëŠì„ì—†ì´ ì—°ê²°ë˜ì–´ ìˆëŠ” êµ¬ì¡°ì´ê³  `HEAD`ì™€ `TAIL`ì„ ì„¤ì •í•´ì£¼ë©´ ì†ì‰½ê²Œ ì²˜ìŒê³¼ ëì„ ì•Œ ìˆ˜ ìˆê³ , ë‚´ìš©ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë•Œë¬¸ì— `array`ì—ì„œ êµ¬í˜„ë˜ëŠ” `removeFirst()`ì™€ëŠ” ë‹¤ë¥´ê²Œ `HEAD`ë§Œ ì˜®ê²¨ì„œ 1ë²ˆ ìë¦¬ë¥¼ ê°€ë¦¬í‚¤ëŠ” ê²ƒì´ ë°”ë€” ë¿ ë°°ì—´ì˜ ë‚´ìš©ì„ ì•ìœ¼ë¡œ ë‹¹ê¸¸ í•„ìš”ê°€ ì—†ê¸°ì— ì‹œê°„ë³µì¡ë„ê°€ O(n)ì´ ë˜ëŠ” ê²½ìš°ê°€ ì—†ì–´ì„œ ë¹ ë¦…ë‹ˆë‹¤. ë˜í•œ ì¤‘ê°„ì— ë°ì´í„°Aë¥¼ ë„£ê³  ì‹¶ì„ ë•Œ ë„£ê³  ì‹¶ì€ ë¶€ë¶„ì˜ ì•ì˜ ë…¸ë“œì˜ ë‹¤ìŒ ë…¸ë“œì— ëŒ€í•œ ì •ë³´ë¥¼ Aì— ëŒ€í•œ ë…¸ë“œë¡œ ë°”ê¾¸ê³ , A ë…¸ë“œì—ì„œ ë‹¤ìŒ ë…¸ë“œì— ëŒ€í•œ ì •ë³´ë¥¼ ê¸°ì¡´ì— ë„£ê³  ì‹¶ì—ˆë˜ ë¶€ë¶„ì˜ ë’¤ì˜ ë…¸ë“œë¡œ ë³€ê²½í•´ì£¼ë©´ ë©ë‹ˆë‹¤. ì´ì²˜ëŸ¼ ë°ì´í„°ë¥¼ ì¤‘ê°„ì— ì‚½ì…í•˜ëŠ” ê²ƒì— í° ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.

`Double stack`ì€ `dequeueStack`ì´ ë¹„ì–´ìˆëŠ” ê²½ìš° `enqueueStack`ì„ ë’¤ì§‘ì–´ì£¼ì–´ì•¼ í•˜ëŠ” ì¼ì´ ìˆì–´ì„œ ì‹œê°„ ë³µì¡ë„ëŠ” ì¡°ê¸ˆ ë” ë†’ì„ ìˆ˜ ìˆì§€ë§Œ ë°°ì—´ì„ ì´ìš©í•œ êµ¬í˜„ì´ê¸°ì— ì›í•œë‹¤ë©´ ì¸ë±ìŠ¤ë¥¼ í†µí•œ ì ‘ê·¼ì„ ë¹ ë¥´ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê³„ì‚°ê¸°ì˜ ê²½ìš° íì˜ êµ¬í˜„ì´ê¸°ì— ì¤‘ê°„ì— ë°ì´í„°ë¥¼ ì¶”ê°€í•´ ì¤„ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. `linked-list`ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ `enqueue`ë¥¼ í•  ë•Œë§ˆë‹¤ ë§¤ë²ˆ `node`ë¥¼ ìƒì„±í•˜ê³  í• ë‹¹í•˜ì—¬ `TAIL`ê³¼ ì—°ê²°ì§“ëŠ” ì‘ì—…ì„ í•´ì£¼ì–´ì•¼ í•˜ëŠ”ë° `double stack`ì€ ë‹¨ìˆœíˆ `enqueueStack`ì— `append`ë§Œ í•´ì£¼ë©´ ë˜ê³ , `dequeue`ë¥¼ í•  ë•Œë„ `linked-list`ëŠ” ê¸°ì¡´ HEADì—ì„œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ì—¬ ë°˜í™˜í•œ í›„ `HEAD`ê°€ ê°€ë¦¬í‚¤ê³  ìˆëŠ” `node`ë¥¼ ë‹¤ìŒ `node`ë¡œ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ í•´ì£¼ì–´ì•¼ í•˜ëŠ”ë° `double stack`ì—ì„œëŠ” ì´ë¯¸ `dequeueStack`ì— ìˆë‹¤ë©´ ë‹¨ìˆœíˆ ë°°ì—´ì˜ ë§ˆì§€ë§‰ ìš”ì†Œë¥¼ êº¼ë‚´ê¸°ë§Œ í•˜ëŠ” ê²ƒì´ê¸°ì— í•´ì•¼í•˜ëŠ” ì‘ì—…ì´ ë” ì ê³  êµ¬ì¡°ê°€ ê°„ë‹¨í•˜ë‹¤ëŠ” ìƒê°ì´ ë“¤ì–´ `double stack`ìœ¼ë¡œ êµ¬í˜„í•œ ê²ƒì„ ë‚¨ê²¼ìŠµë‹ˆë‹¤.


<br>

2ï¸âƒ£ **Double Stack: enqueueì™€ dequeueì‹œ ì‹œê°„ ë³µì¡ë„** <br>
-
ğŸ”’ **ë¬¸ì œì ** <br>
ì´ˆë°˜ `dequeue`ë¥¼ í•  ë•Œ í•­ìƒ `enqueueStack`ì„ `dequeueStack`ì— `reversed()` í•´ì¤€ í›„ `popLast()`ë¥¼ í•˜ê³  ë‹¤ì‹œ `enqueueStack`ì— `reversed()` í•´ì£¼ëŠ” ë°©ë²•ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ì ë§¤ë²ˆ ì‹œê°„ë³µì¡ë„ê°€ O(n)ìœ¼ë¡œ `array`ì˜ `removeFirst()`ë¥¼ ì‚¬ìš©í•´ì£¼ëŠ” ê²ƒê³¼ ë‹¤ë¥¼ ë°” ì—†ëŠ” ê²°ê³¼ê°€ ë‚˜ì™”ìŠµë‹ˆë‹¤. 
```swift
    dequeueStack = reversedStack(enqueueStack)
    let output = backwardStack.popLast()
    enqueueStack = reversedStack(dequeueStack)
```

ğŸ”‘ **í•´ê²°ë°©ë²•** <br>
í•œë²ˆ `enqueueStack`ì„ `reversed()`í•˜ì—¬ `dequeueStack`ì— ë„£ê²Œ ë˜ë©´ ê¸°ì¡´ì˜ `enqueueStack`ì˜ ë‚´ìš©ì€ ì§€ìš°ê³  `dequeueStack`ì—ë§Œ ë‚¨ê²¨, `dequeueStack`ì´ ë¹„ì–´ì„œ êº¼ë‚¼ ìš”ì†Œê°€ ì—†ì„ ë•Œê¹Œì§€ `reversed()`í•  í•„ìš” ì—†ì´ ë§ˆì§€ë§‰ ìš”ì†Œë¥¼ êº¼ë‚´ëŠ” ì‘ì—…ë§Œ í•  ìˆ˜ ìˆë„ë¡ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤. ë§¤ë²ˆ `reversed()` í•´ì£¼ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í•„ìš”í•œ ìˆœê°„ì—ë§Œ, í•œë²ˆì”© í•´ì£¼ê¸°ì— ì‹œê°„ ë³µì¡ë„ë¥¼ ì¤„ì¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. 
```swift
mutating func dequeue() -> T? {
        guard isEmpty == false else {
            return nil
        }
        
        if dequeueStack.isEmpty {
            dequeueStack = enqueueStack.reversed()
            enqueueStack.removeAll()
        }
        
        return dequeueStack.removeLast()
    }
```


<br>

3ï¸âƒ£ **TDD_private** <br>
-
ğŸ”’ **ë¬¸ì œì ** <br>
`private` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ `Unit Test`ì—ì„œë„ í•´ë‹¹ í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ë¥¼ í•  ë•ŒëŠ” `private`ë¥¼ ì œê±°í•˜ê³ , í…ŒìŠ¤íŠ¸ê°€ ëë‚œ í›„ì— ë‹¤ì‹œ `private`ì„ ë¶™ì—¬ì£¼ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‹ˆ ìµœì¢…ì ì¸ `testë¬¸`ë“¤ì— ë¹¨ê°„ ì—ëŸ¬ê°€ ëœ¨ëŠ” ì¼ë“¤ì´ ë°œìƒí•˜ì˜€ëŠ”ë° íŠ¹íˆ `enqueue` ë©”ì„œë“œê°€ ì œëŒ€ë¡œ ë™ì‘í•˜ì˜€ëŠ”ì§€ë¥¼ ì•Œì•„ë³´ê¸° ìœ„í•´ `private enqueueStack`ì˜ ë‚´ìš©ì„ ë¹„êµí•˜ëŠ” ê³¼ì •ì—ì„œ ë¬¸ì œë“¤ì´ ìƒê²¼ìŠµë‹ˆë‹¤.

```swift
 XCTAssertEqual(sut.enqueueStack, [10, 20])
```

ğŸ”‘ **í•´ê²°ë°©ë²•** <br>
í…ŒìŠ¤íŠ¸ëŠ” ì€ë‹‰í™”ë¥¼ í•˜ì˜€ìŒì—ë„ ì˜¤ë¥˜ ì—†ì´ ì˜ ëŒì•„ê°€ì•¼í•©ë‹ˆë‹¤. ë•Œë¬¸ì— `private` í‚¤ì›Œë“œë¥¼ ë¶™ì´ë”ë¼ë„ í•´ë‹¹ í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë‹¤ë¥¸ ë°©ë²•ì„ ìƒê°í•´ì•¼ í–ˆìŠµë‹ˆë‹¤. `count` í”„ë¡œí¼í‹°ë¥¼ í™œìš©í•˜ì—¬ `enqueue` ë©”ì„œë“œê°€ ë™ì‘í•˜ì˜€ì„ ë•Œ `count`ì˜ ê°’ì´ ì˜¬ë¼ê°”ëŠ”ì§€ í™•ì¸í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.

```swift
//when
let result = sut.count
        
//then
XCTAssertEqual(result, 2)
```

<br>

4ï¸âƒ£ **Scroll View êµ¬í˜„** <br>
-
ğŸ”’ **ë¬¸ì œì ** <br>
`ScrollView`ëŠ” ìŠ¤í¬ë¡¤ë·° ì•ˆì— `StackView`ê°€ ìˆê³  ê·¸ ìŠ¤íƒë·° ì•ˆì— `SubStackView`ê°€ ìˆëŠ” í˜•ì‹ì…ë‹ˆë‹¤. ê³„ì‚°ê¸°ì˜ ìˆ˜ì‹ì´ ì„œë¸Œ ìŠ¤íƒë·°ì˜ ë¼ë²¨ë¡œ í‘œì‹œë˜ë©´ì„œ ìŠ¤íƒë·°ë¡œ ë“¤ì–´ê°€ê³ , ìŠ¤íƒë·°ëŠ” ìŠ¤í¬ë¡¤ë·°ì˜ ì•ˆì— ìˆê¸°ì— ëŠì„ì—†ì´ ëŠ˜ì–´ë‚˜ë”ë¼ë„ ìŠ¤í¬ë¡¤ì„ í†µí•´ ë‚´ìš©ë“¤ì„ ì „ë¶€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì²˜ìŒ ìŠ¤í¬ë¡¤ë·°ë¥¼ ë³¸ ìˆœê°„ ë§¤ë²ˆ ìƒˆë¡­ê²Œ ìˆ˜ì‹ ë¼ë²¨ì´ ì¶”ê°€ë˜ì–´ì•¼ í•˜ëŠ”ë° ìŠ¤í† ë¦¬ë³´ë“œë§Œìœ¼ë¡œëŠ” êµ¬í˜„í•˜ê¸° í˜ë“¤ì§€ ì•Šì„ê¹Œ, ë¼ëŠ” ìƒê°ì„ í–ˆìŠµë‹ˆë‹¤. ë•Œë¬¸ì— ìŠ¤í¬ë¡¤ë·°ì™€ ìŠ¤íƒë·°ì˜ êµ¬í˜„ë¶€í„° ì½”ë“œë¡œ í•´ì•¼í•˜ë‚˜ í•˜ëŠ” ê³ ë¯¼ì„ í–ˆìŠµë‹ˆë‹¤. ë˜í•œ ìŠ¤í¬ë¡¤ë·°ì— ìƒˆë¡œìš´ ìˆ˜ì‹ì´ ì¶”ê°€ë  ë•Œë§ˆë‹¤ í•´ë‹¹ ìˆ˜ì‹ì„ í™•ì¸í•  ìˆ˜ ìˆê²Œ ìë™ìŠ¤í¬ë¡¤ì´ ë˜ì–´ì•¼ í•˜ëŠ”ë° ê¸°ì¡´ ì½”ë“œì—ì„œëŠ” ìµœì‹  ê²ƒ ì§ì „ì˜ ìˆ˜ì‹ê¹Œì§€ë§Œ ë³´ì´ë„ë¡ í•œì¹¸ ëœ ë‚´ë ¤ê°€ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤. 

```swift
private func setCurrentFormulaViewOnScroll(_ `operator`: String, _ operand: String) {
        currentFormulaStackView.addArrangedSubview(makeCurrentFormulaLabelStackView(`operator`, operand))
        
        currentFormulaScrollView.setContentOffset(CGPoint(x: 0, y: currentFormulaScrollView.contentSize.height - currentFormulaScrollView.bounds.height), animated: true)
    }
```

ğŸ”‘ **í•´ê²°ë°©ë²•** <br>
ì„œë¸Œ ìŠ¤íƒë·°ë§Œ ì½”ë“œë¡œ ë§¤ë²ˆ ìƒì„±í•˜ì—¬ `IBOutlet`ìœ¼ë¡œ ì—°ê²°í•œ ìŠ¤íƒë·° ì•ˆì— ë„£ì–´ì£¼ëŠ” ë°©ë²•ìœ¼ë¡œ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤. 
```swift
private func makeCurrentFormulaLabelStackView(_ `operator`: String, _ operand: String) -> UIStackView {
        let operatorLabel: UILabel = {
            let label = UILabel()
            
            label.text = `operator`
            label.font = .preferredFont(forTextStyle: .title2)
            label.textColor = .white
            
            return label
        }()
        
        let operandLabel: UILabel = {
            let label = UILabel()
            
            label.text = operand.replacingOccurrences(of: ",", with: "")
            label.font = .preferredFont(forTextStyle: .title2)
            label.textColor = .white
            
            return label
        }()
        
        let subStackView: UIStackView = {
            let stackView = UIStackView(arrangedSubviews: [operatorLabel,operandLabel])
            
            stackView.spacing = 8
            stackView.alignment = .bottom
            
            return stackView
        }()
        
        return subStackView
    }
```
ìë™ ìŠ¤í¬ë¡¤ì˜ ê²½ìš°ëŠ” ì„œë¸Œ ìŠ¤íƒë·°ë¥¼ ìŠ¤íƒë·°ì— ì¶”ê°€í•œ í›„ì˜ ê¸°ì¤€ì´ ì•„ë‹ˆë¼ ì¶”ê°€í•˜ê¸° ì „ì„ ê¸°ì¤€ìœ¼ë¡œ `CGPoint`ë¥¼ ì¡ì•„ì„œ, `layoutIfNeeded()`ë¥¼ í†µí•´ ê°•ì œì ìœ¼ë¡œ ì¶”ê°€í•œ í›„ì˜ ê¸°ì¤€ì„ ë¶ˆëŸ¬ì™€ ìœ„ì¹˜ë¥¼ ì¡ê²Œ í•˜ì—¬ í•´ê²°í–ˆìŠµë‹ˆë‹¤. 
```swift
private func setCurrentFormulaViewOnScroll(_ `operator`: String, _ operand: String) {
        currentFormulaStackView.addArrangedSubview(makeCurrentFormulaLabelStackView(`operator`, operand))
        
        currentFormulaScrollView.layoutIfNeeded()
        currentFormulaScrollView.setContentOffset(CGPoint(x: 0, y: currentFormulaScrollView.contentSize.height - currentFormulaScrollView.bounds.height), animated: true)
    }
```
<br>

5ï¸âƒ£ **NumberFormatter êµ¬í˜„** <br>
-
ğŸ”’ **ë¬¸ì œì ** <br>
`Double`ì„ `String`ìœ¼ë¡œ ë°”ê¾¸ëŠ” í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ì˜€ë”ë‹ˆ í”¼ì—°ì‚°ìë¥¼ ëˆŒëŸ¬ì„œ ë¼ë²¨ì— ì¶”ê°€í•  ë•Œë§ˆë‹¤ `decimal` ì–‘ì‹ì— ë§ì¶° 3ìë¦¬ìˆ˜ ë§ˆë‹¤ `comma`ê°€ ì°í˜€ì•¼ í•˜ëŠ”ë° ì´ ê²½ìš° `String -> Double -> String`ìœ¼ë¡œ ë§¤ë²ˆ ë°”ê¾¸ì–´ì•¼ í•˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

ğŸ”‘ **í•´ê²°ë°©ë²•** <br>
ê¸°ì¡´ì— `Double`ì˜ `extension`ìœ¼ë¡œ ë‘ì—ˆë˜ `NumberFormatter`ë¥¼ `ViewController` ë‚´ë¶€ì˜ í•¨ìˆ˜ë¡œ êµ¬í˜„í•˜ì—¬ `String -> String` í˜•ì‹ìœ¼ë¡œ ì „í™˜í•˜ì˜€ìŠµë‹ˆë‹¤. 
> _ì¡°ê¸ˆ ë” ì¢‹ì€ ë°©ë²•ì´ ìˆì„ ê²ƒ ê°™ê¸°ì— ì¶”í›„ì— ë‹¤ì‹œ ë¦¬í™í† ë§ í•  ì˜ˆì •ì…ë‹ˆë‹¤._

```swift
private func formattingNumber(_ input: String) -> String {
        let formatter = NumberFormatter()
        let number = NSDecimalNumber.init(string: input)

        formatter.maximumSignificantDigits = 15
        formatter.numberStyle = .decimal
        formatter.roundingMode = .halfUp
        formatter.usesSignificantDigits = true
        
        return formatter.string(from: number) ?? "NaN"
    }
```

<br>

6ï¸âƒ£ **ë¶€ë™ì†Œìˆ˜ì  ì˜¤ë¥˜** <br>
-
ğŸ”’ **ë¬¸ì œì ** <br>
`Double`ì€ ìµœëŒ€ 16ìë¦¬ê¹Œì§€ë§Œ ì •í™•í•œ ìˆ˜ë¥¼ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì£¼ì–´ì§„ ê³¼ì œì˜ í‘œí˜„ ê°€ëŠ¥í•œ ìë¦¿ìˆ˜ëŠ” 20ì´ê¸°ì— `maximumSignificantDigits`ë¥¼ 20ìœ¼ë¡œ ì£¼ì—ˆë”ë‹ˆ ì˜¨ì „í•œ ê³„ì‚°ì„ í•˜ì§€ ëª»í•˜ì˜€ìŠµë‹ˆë‹¤. ë˜í•œ `Double`ê³¼ `Double`ì˜ ê³„ì‚°ì„ í•˜ê³  ìˆì—ˆê¸°ì— ì†Œìˆ˜ì  ìë¦¬ ê³„ì‚° ì—­ì‹œ ê·¼ì‚¬ê°’ë¼ë¦¬ì˜ ê³„ì‚° ë•Œë¬¸ì— ì •í™•í•œ ê²°ê³¼ê°€ ë‚˜ì˜¤ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
````
10 Ã· 3 = 3.333333333334528
0.1 + 0.2 = 0.3000000000512
````
ğŸ”‘ **í•´ê²°ë°©ë²•** <br>
ë¬¸ì œì˜ í•´ì„ì„ ë‹¤ë¥´ê²Œ í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ê²°ê³¼ê°’ìœ¼ë¡œ í‘œí˜„ë  ìˆ˜ ìˆê±°ë‚˜ ì…ë ¥ê°’ìœ¼ë¡œ ë„£ì„ ìˆ˜ ìˆëŠ” ìë¦¿ìˆ˜ëŠ” 20ìœ¼ë¡œ í•´ì„í•´ì—¬ `maximumSignificantDigits`ì„ 15ë¡œ ì œí•œí•˜ì˜€ê³  ê¸°ì¡´ `Operator`ì—ì„œ `Double`ë¼ë¦¬ì˜ ì—°ì‚° ë¶€ë¶„ì„ `NSDecimalNumber`ì—ì„œì˜ `Decimal`ë¼ë¦¬ì˜ ì—°ì‚°ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.

```swift
private func add(lhs: Double, rhs: Double) -> Double {
        return NSDecimalNumber(decimal: Decimal(lhs) + Decimal(rhs)).doubleValue
    }
    
    private func subtract(lhs: Double, rhs: Double) -> Double {
        return NSDecimalNumber(decimal: Decimal(lhs) - Decimal(rhs)).doubleValue
    }
    
    private func divide(lhs: Double, rhs: Double) -> Double {
        guard rhs != 0 else {
            return .nan
        }
        return NSDecimalNumber(decimal: Decimal(lhs) / Decimal(rhs)).doubleValue
    }
    
    private func multiply(lhs: Double, rhs: Double) -> Double {
        return NSDecimalNumber(decimal: Decimal(lhs) * Decimal(rhs)).doubleValue
    }
```

<br>

7ï¸âƒ£ **ê¹”ë”í•œ ë¶„ê¸°ì²˜ë¦¬** <br>
-
ğŸ”’ **ë¬¸ì œì ** <br>
ì—¬ëŸ¬ê°€ì§€ ì˜ˆì™¸ë“¤ì„ ì²˜ë¦¬í•˜ëŠë¼ í•œ í•¨ìˆ˜ì— êµ‰ì¥íˆ ë§ì€ ì¡°ê±´ë¬¸ì„ ì‘ì„±í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. `flag`ë„ 4,5ê°œ ì •ë„ë¡œ ê³¼í•˜ê²Œ ìˆì–´ì„œ ì½”ë“œë¥¼ íƒ€ì¸ì´ ì½ê³  í•´ì„í•˜ê¸°ê°€ ë§¤ìš° ì–´ë ¤ì› ìŠµë‹ˆë‹¤. ì˜ˆì™¸ì‚¬í•­ë“¤ì— ëŒ€í•œ ë¶„ê¸° ì²˜ë¦¬ì— ëŒ€í•œ ë¬¸ì œì˜€ìŠµë‹ˆë‹¤.

ğŸ”‘ **í•´ê²°ë°©ë²•** <br>
í•œê°€ì§€ ë²„íŠ¼ì— ë°€ì–´ë„£ì§€ ì•Šê³  ì˜ˆì™¸ì ì´ê²Œ ë  ìˆ˜ ìˆëŠ” ë²„íŠ¼ ë§ˆë‹¤ ë”°ë¡œ `IBAction` í•¨ìˆ˜ë¥¼ ì„ ì–¸í•˜ì—¬ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤. `0, 00, . `ì„ ìˆ«ìì™€ ë¶„ë¦¬í•˜ì˜€ë”ë‹ˆ ê³¼í•œ ì¡°ê±´ë¬¸ë“¤ê³¼ `flag`ë¥¼ ì¤„ì¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ë˜í•œ `flag`ë¥¼ ë‘ì–´ `property Observer`ë¥¼ ì‚¬ìš©í•˜ë˜ ë¶€ë¶„ì„ í•¨ìˆ˜ë¡œ ë¹¼ì„œ ì„ ì–¸ë§Œ í•˜ë©´ ë˜ë„ë¡ ìˆ˜ì •í•˜ì˜€ìŠµë‹ˆë‹¤. í•œê²° ê°€ë…ì„±ì„ ë†’ì¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

```swift
@IBAction func tappedDotButton(_ sender: UIButton) {
        guard let operandLabelText = currentOperandLabel.text,
              operandLabelText.contains(".") == false,
              isCalculated == false else {
            return
        }
        
        currentOperandLabel.text = operandLabelText + "."
    }
```

<br>

## ğŸ“š ì°¸ê³  ë§í¬
- [ğŸApple Docs: reversed](https://developer.apple.com/documentation/swift/array/reversed())
- [ğŸApple Docs: popLast](https://developer.apple.com/documentation/swift/array/poplast())
- [ğŸApple Docs: removeLast](https://developer.apple.com/documentation/swift/array/removelast())
- [ğŸApple Docs: NSDecimalNumber](https://developer.apple.com/documentation/foundation/nsdecimalnumber)
- [ğŸApple Docs: CustomStringConvertible](https://developer.apple.com/documentation/swift/customstringconvertible)
- [ğŸApple Docs: Data Formatting](https://developer.apple.com/documentation/foundation/data_formatting)
- [ğŸApple Docs: ScrollView](https://developer.apple.com/documentation/uikit/uiscrollview)
- [ğŸApple Docs: StackView](https://developer.apple.com/documentation/uikit/uistackview)
- [ğŸApple Docs: replacingOccurrences(of:with:)](https://developer.apple.com/documentation/foundation/nsstring/1412937-replacingoccurrences)
- [ğŸApple Docs_Archive: NSFormatter](https://developer.apple.com/library/archive/documentation/LegacyTechnologies/WebObjects/WebObjects_3.5/Reference/Frameworks/ObjC/Foundation/Classes/NSFormatter/Description.html#//apple_ref/occ/instm/NSFormatter/stringForObjectValue:)
- [ğŸ“˜blog: NumberFormatting](https://www.swiftbysundell.com/articles/formatting-numbers-in-swift/)
- [ğŸ“˜blog: layoutIfNeeded](https://zeddios.tistory.com/359)
</br>

## ğŸ‘¥ íšŒê³ 
- [íšŒê³  ë§í¬](https://github.com/mint3382/ios-calculator-app/wiki)
